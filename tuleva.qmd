---
title: "Pensionifondide kihlvedu: Tuleva vs LHV vs SEB tootluse v√µrdlus"
author: "Indrek Seppo"
date: today
lang: et
language:
  title-block-author-single: "Autor"
  title-block-published: "Uuendatud"
image: "aastane_tulu_tuleva_lhv.png"
format:
  html:
    theme: lumen           
    toc: true
    toc-title: "Sisukord"
    toc-location: left
    toc-depth: 3
    self-contained: false
    include-in-header: analytics.html
    include-after-body: footer.html
    css: |
      .hero-banner {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 3rem 2rem;
        text-align: center;
        margin-bottom: 2rem;
        border-radius: 10px;
      }
      .hero-banner h1 {
        font-size: 3rem;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      }
      .hero-banner .lead {
        font-size: 1.3rem;
        opacity: 0.9;
      }
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 2rem 0;
      }
      .stat-card {
        background: linear-gradient(135deg, #f8f9ff 0%, #e3e8ff 100%);
        padding: 2rem 1.5rem;
        border-radius: 15px;
        box-shadow: 0 6px 25px rgba(102, 126, 234, 0.15);
        text-align: center;
        border: 1px solid rgba(102, 126, 234, 0.1);
        position: relative;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 35px rgba(102, 126, 234, 0.25);
      }
      .stat-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      }
      .stat-number {
        font-size: 3rem;
        font-weight: 900;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: block;
        line-height: 1;
        margin-bottom: 0.5rem;
      }
      .stat-label {
        color: #4a5568;
        font-size: 0.85rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        margin-top: 0.5rem;
      }
      .stat-icon {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 1.5rem;
        opacity: 0.3;
        color: #667eea;
      }
      .progress-timeline {
        position: relative;
        padding: 2rem 0;
      }
      .timeline-item {
        display: flex;
        align-items: center;
        margin-bottom: 2rem;
      }
      .timeline-dot {
        width: 20px;
        height: 20px;
        background: #667eea;
        border-radius: 50%;
        margin-right: 1rem;
        flex-shrink: 0;
      }
      .section-divider {
        height: 3px;
        background: linear-gradient(90deg, #667eea, #764ba2);
        border: none;
        margin: 3rem 0;
        border-radius: 3px;
      }
execute:
  echo: false
  warning: false
  message: false
---


```{r}
library(dplyr)
library(tidyr)
library(forcats)
library(ggplot2)
library(readr)
library(stringr)
library(lubridate)
library(hrbrthemes)
library(tidyquant)
library(tseries)
library(xts)
library(quantmod)
library(rvest)
library(janitor)
library(ggfittext)

hrbrthemes::import_roboto_condensed()
```

::: {.hero-banner}
# Pensionifondide kihlvedu

::: {.lead}
Tuleva vs LHV vs SEB - k√ºmneaastane v√µitlus parima tootluse eest
:::

*Graafikud uuenevad automaagiliselt iga p√§ev ca 10:10*
:::

::: {.stats-grid}
::: {.stat-card}
<span class="stat-number">`r as.numeric(Sys.Date() - as.Date("2023-08-03"))`</span>
<span class="stat-label">P√§eva m√∂√∂dunud</span>
:::
::: {.stat-card}
<span class="stat-number">`r round(10 - (as.numeric(Sys.Date() - as.Date("2023-08-03")) / 365.25), 1)`</span>
<span class="stat-label">Aastat j√§√§nud</span>
:::
::: {.stat-card}
<span class="stat-number">3</span>
<span class="stat-label">V√µistlevat fondi</span>
:::
::: {.stat-card}
<span class="stat-number">‚Ç¨1000</span>
<span class="stat-label">Panuse suurus (kasvab √ºhes SP500ga)</span>
:::
:::

<hr class="section-divider">

# Taustast

Juhuslik trehvamine Vahur Vallistuga LHV Varahaldusest p√§√§dis sellega, et s√µnadest j√§i puudu ja k√§iku l√§ksid k√§ed, et s√µlmida s√µbralik kihlvedu.

Kumb t√µuseb k√ºmne aastaga rohkem - LHV L v√µi Tuleva Maailma Aktsiate Indeks? Vahur usub, et aktiivselt erinevatesse varaklassidesse raha paigutada on kallim, kuid puhastootlusega suudetakse siiski indeksit l√º√ºa, mina - et k√µrgemad tasud s√∂√∂vad selle tulu √§ra.

P√§ev hiljem liitus kihlveoga Endriko V√µrklaev SEBst fondiga, mille nimeks t√§naseks SEB pensionifond 18+.

Vahel on tuhat eurot indekseerituna S&P500-ga (S&P 500 on USA 500 suurima b√∂rsiettev√µtte aktsiate indeks, √ºks maailma tuntuimaid turuindekseid).

<style>
.source-card {
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  border: none;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.source-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}
.source-card .card-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-bottom: none;
}
.source-card .card-header h3 a {
  color: white;
  text-decoration: none;
}
.source-card .card-header h3 a:hover {
  color: #f8f9fa;
}
.source-card .card-body {
  padding: 0;
}
.source-card img {
  width: 100%;
  height: auto;
  border-bottom-left-radius: 0.375rem;
  border-bottom-right-radius: 0.375rem;
  transition: transform 0.2s ease-in-out;
}
.source-card:hover img {
  transform: scale(1.02);
}
.card-badge {
  position: absolute;
  top: -10px;
  right: 15px;
  background: #28a745;
  color: white;
  padding: 4px 12px;
  border-radius: 15px;
  font-size: 0.8em;
  font-weight: bold;
  z-index: 10;
}
</style>

::: {.grid .my-4}

::: {.g-col-12 .g-col-md-6}
::: {.card .source-card .position-relative}
<div class="card-badge">üì± Facebook</div>
::: {.card-header .text-center}
### [Originaalkihlvedu](https://www.facebook.com/indrek.seppo/posts/pfbid0iQX5FvSVkaguvpt6bnhMvec4iyXEZGdDK3ZuLe1mHqaBKHAJVW8BmUg2usAxhH3Sl)
:::
::: {.card-body}
[![Facebook'i originaall√µim kihlveo kohta](fb_screenshot.png)](https://www.facebook.com/indrek.seppo/posts/pfbid0iQX5FvSVkaguvpt6bnhMvec4iyXEZGdDK3ZuLe1mHqaBKHAJVW8BmUg2usAxhH3Sl)
:::
:::
:::

::: {.g-col-12 .g-col-md-6}
::: {.card .source-card .position-relative}
<div class="card-badge">üì∞ Ekspress</div>
::: {.card-header .text-center}
### [Meediakajastus](https://ekspress.delfi.ee/artikkel/120227188/eksperdid-vaidlevad-pensionide-teemal-lhv-suurima-vaenlase-ja-pankuri-debatis-jai-sonadest-vaheks-kaiku-laksid-kaed)
:::
::: {.card-body}
[![Ekspress.ee artikkel kihlveo kohta](ekspress_screenshot.png)](https://ekspress.delfi.ee/artikkel/120227188/eksperdid-vaidlevad-pensionide-teemal-lhv-suurima-vaenlase-ja-pankuri-debatis-jai-sonadest-vaheks-kaiku-laksid-kaed)
:::
:::
:::

:::


<hr class="section-divider">

# Tootluse v√µrdlus

Kihlvedu on teadlikult tehtud pika aja peale. L√ºhiajalist statistikat m√µjutab liigselt juhus. Aga meelelahutuslikel eesm√§rkidel v√µib seda ikka j√§lgida.

```{r}
date_to <- today()

url <- paste0("https://www.pensionikeskus.ee/statistika/ii-sammas/kogumispensioni-fondide-nav/?download=xls&date_from=2023-08-03&date_to=", date_to, "&f%5B0%5D=47&f%5B1%5D=80&f%5B2%5D=77")

navid <- read.csv2(url, fileEncoding ="UTF-16", header = TRUE, sep = "\t")
navid$Fond[navid$Fond == "Tuleva Maailma Aktsiate Pensionifond"] <- "Tuleva Maailma Aktsiad"
navid$Fond[navid$Fond == "SEB pensionifond 18+"] <- "SEB 18+"
navid$Fond[navid$Fond == "LHV Pensionifond L"] <- "LHV L"
navid <- navid %>%
  group_by(Fond, L√ºhinimi) %>%
  mutate(NAV = NAV/NAV[1]) %>%
  ungroup() %>%
  mutate(Kuup√§ev = dmy(Kuup√§ev))

navid_end <- navid %>%
  filter(Kuup√§ev == max(Kuup√§ev))

max_kp <- max(navid$Kuup√§ev)

navid_end <- navid_end %>%
  mutate(Fond = fct_reorder(Fond, NAV)) %>%
  mutate(Fond = fct_rev(Fond))

navid <- navid %>%
  mutate(Fond = factor(Fond, levels = levels(navid_end$Fond)))

colors = c("LHV L" = "#4A4E5A", "SEB 18+" = "#60CD18",
           "Tuleva Maailma Aktsiad" = "#00aeea")

p <- navid %>%
  ggplot(aes(x = Kuup√§ev, y = NAV)) +
  geom_line(aes(color = Fond)) +
  geom_blank(aes(x = dmy("01-02-2024"), y = 0.9)) +
  geom_point(data = navid_end, size = 2, aes(color = Fond)) +
  theme_ipsum_rc() +
  scale_color_manual(values = colors) +
  scale_x_date(date_labels = "%m/%Y") +
  geom_text(data = navid_end, aes(label = format(round(NAV,2), nsmall = 2), color = Fond), nudge_x = 45, show.legend = FALSE) +
  labs(title = "Kuidas l√§heb fondidel?", subtitle = "Kui palju on v√§√§rt fondi 03.08.2023\nsissepandud euro n√º√ºd?",
       y = "03.08.2023 sissepandud euro v√§√§rtus", caption = paste0("allikas: Pensionikeskus\nseisuga: ", max_kp))
ggsave(p, file = "kihlvedu.png", height = 5, width = 7, scale = 1, bg = "white")

```
![](kihlvedu.png){fig-alt="Graafik pensionifondide tootlusest"}

# Millised on fondide jooksvad tasud?

Jooksvad tasud sisaldavad k√µiki tasusid, mis fondi kogumisse minevast rahast maha arvatakse (nii fondi juhtimisega seotud tasud, kui n√§iteks ostu-m√º√ºgitehingute hinnad jne). Oluline on siin ka see, et neid tasusid maksad igal aastal kogu senikogutu pealt, mitte √ºksnes lisanduva summa pealt. Ehk kui fondi kogum on 10 000 eurot, siis 1% tasu t√§hendab, et maksad 100 eurot aastas. Kui see kogum kasvab 20 000 euro peale, siis maksad juba 200 eurot aastas ja nii iga aasta.

```{r}
#| fig-width: 7
#| fig-height: 4

# URL
url <- "https://www.pensionikeskus.ee/statistika/ii-sammas/kogumispensioni-paevastatistika/?is_async=1"

# Loeb sisse otse tabeli HTML-i
leht <- read_html(url)

fondide_tasud <- leht %>%
  html_element("table") %>%
  html_table() %>%
  clean_names() %>%
  mutate(
    # 1. Eemaldame %-m√§rgi ja asendame koma punktiga
    jooksvad_tasud = as.numeric(str_replace(str_remove(tasud, "%"), ",", "."))
  ) %>%
  # Valime ainult vajalikud veerud
  select(fond, jooksvad_tasud) %>%
  # Filtreerime v√§lja kihlveos osalevad fondid
  filter(
    str_detect(fond, "Tuleva Maailma Aktsiate Pensionifond|LHV Pensionifond L|SEB pensionifond 18\\+")
  )

# Muudame fondi nimed l√ºhemaks
fondide_tasud <- fondide_tasud %>%
  mutate(fond = case_when(
    fond == "Tuleva Maailma Aktsiate Pensionifond" ~ "Tuleva Maailma Aktsiad",
    fond == "LHV Pensionifond L" ~ "LHV L",
    fond == "SEB pensionifond 18+" ~ "SEB 18+",
    TRUE ~ fond
  ))

# Visualiseerime, kui palju maksad iga 10 tuhande euro kohta jooksvaid tasusid aastas

fondide_tasud <- fondide_tasud |>
  mutate(jooksvad_tasud_10k = jooksvad_tasud / 100) %>%
  mutate(jooksvad_tasud_10k = jooksvad_tasud_10k * 10000)

colors <- c("LHV L" = "#4A4E5A", "SEB 18+" = "#60CD18",
           "Tuleva Maailma Aktsiad" = "#00aeea")



p <- fondide_tasud %>%
  ggplot(aes(x = fct_reorder(fond, jooksvad_tasud_10k), y = jooksvad_tasud_10k)) +
  geom_col(aes(fill = fond), show.legend = FALSE) +
  scale_fill_manual(values = colors) +
  geom_bar_text(aes(label = paste0(round(jooksvad_tasud_10k, 2), "‚Ç¨")), vjust = -0.5) +
  scale_y_continuous(labels = scales::comma_format()) +
  labs(title = "Fondide jooksva tasu suurus", subtitle = "Kui palju maksad jooksvaid tasusid aastas iga 10 tuhande euro kohta?",
       x = "fond", y = "jooksvad tasud (eurot)", caption = "allikas: Pensionikeskus") +
  coord_flip() +
  theme_ipsum_rc()
p
```
NB! Jooksvad tasud on ajas muutuvad, siin on n√§idatud nende viimane seis, mis avaldatud Pensionikeskuses. Tuleva √ºhistu liikmena saaksid veel 5‚Ç¨ tagasi kickbacki oma liikmekapitali arvele.

Aktiivselt juhitud fondid peavad indeksfondidega sammu pidamiseks √ºletama turukeskmist (ehk turuindeksit) rohkem, kui nende jooksvad tasud √ºletavad indeksfondi tasusid. Kogu minu argument on, et ajalooliselt ei ole nad keskmiselt seda suutnud. Kas v√µib olla erandeid? V√µib, aga ma ei paneks oma raha selle alla. Vahur ja Endriko usuvad endasse rohkem.




# Kuidas on l√§inud summal, mille peale kihla vedasime?

Me vedasime kihla 1000‚Ç¨ peale indekseerituna S&P 500-sse. Kuis see summa aja jooksul kasvanud/kahanenud on ja kuhu t√§naseks j√µudnud?

```{r include=FALSE}
# Download VUAA data
getSymbols("^SP500TR", src = "yahoo", from = "2023-08-03")
sp500_tr <- Cl(`SP500TR`)

# Download EUR/USD exchange rate data
getSymbols("EURUSD=X", src = "yahoo", from = "2023-08-03")
eur_usd <- Cl(`EURUSD=X`)
```


```{r}

#eur_usd <- na.approx(eur_usd)
# Convert S&P 500 Total Return Index to EUR
sp500_tr_eur <- sp500_tr / eur_usd

# Handle missing values
sp500_tr_eur <- na.approx(sp500_tr_eur)


sp500_tr_eur_df <- data.frame(Date = index(sp500_tr_eur), Value = coredata(sp500_tr_eur))

sp500_tr_eur_df <- sp500_tr_eur_df %>%
  mutate(SP500TR.Close = SP500TR.Close/SP500TR.Close[1]*1000)

sp500_lastvalue <- sp500_tr_eur_df %>%
  filter(Date == max(Date))

max_date <- max(sp500_lastvalue$Date)
p <- sp500_tr_eur_df %>%
  ggplot(aes(x = Date, y = SP500TR.Close)) +
  geom_line() +
  geom_point(data = sp500_lastvalue, size = 2) +
  geom_text(data = sp500_lastvalue, aes(label = paste0(round(SP500TR.Close), "‚Ç¨")), nudge_x = 45) +
  scale_x_date(date_labels = "%m/%Y") +
  theme_ipsum_rc() +
  labs(title = "Kui suur summa on m√§ngus?", x = "kuup√§ev", y = "kihlveo summa", caption = paste0("allikas: Yahoo Finance\nseisuga ", max_date))

p
```


# Kuidas on LHV fondidel l√§inud pikemas perspektiivis v√µrreldes Tulevaga?

Tegelikult ei ole pensioniinvestori jaoks kuigi oluline see, kui palju t√µuseb m√µni fond kahe kuup√§eva vahel. Meid huvitab, palju meie jooksvad sissemaksed t√µusevad selleks ajaks, kui neid v√§lja v√µtma hakkame. Ehk neid kuup√§evi, mille vaheline kasv -- v√µi langus -- meid huvitab, on palju.

Ma olen siin graafikul p√º√ºdnud seda visualiseerida. Ta ei ole p√§ris t√§pne -- ma olen siin eeldanud, et igal p√§eval on veidi raha pensionifondi kantud (tegelikult kantakse kuskil kuu keskel) ja arvutanud, kui palju see keskmiselt viimastel andmetel kasvanud on.

Kuna seda inspireeris mind tegema mingi LHV fondide reklaam, siis v√µrdlen siin neid fonde, mida LHV hoogsalt soovitab, Tuleva indeksiga, kus ma ise olen. V√µrdluseks on lisatud inflatsioon.

```{r}
#load("aastane_tulu_tuleva_lhv.RData")
#ggplotly(p)
```

![](aastane_tulu_tuleva_lhv.png){fig-alt="Aastane tootluse v√µrdlus LHV ja Tuleva vahel"}

Huvitav on seegi, kuidas see graafik √ºle aja muutunud on:

<video width="100%" autoplay loop muted playsinline>
<source src="aastane_tulu_animeeritud.mp4" type="video/mp4">
</video>



# Kust n√§ha, kuidas on l√§inud sinul endal?

::: {.grid .my-4}

::: {.g-col-12 .g-col-md-6}
::: {.card .source-card}
::: {.card-header .text-center}
### [Pensionikeskus](https://www.pensionikeskus.ee)
:::
::: {.card-body .p-3}
**Ametlik II samba portaal**

- Logi sisse Pensionikeskuse lehele
- Mine: **Raportid ‚Üí Tootlus**  
- Vaata oma raha tootlust

[Ava Pensionikeskus ‚Üí](https://www.pensionikeskus.ee){.btn .btn-primary .btn-sm .mt-2}
:::
:::
:::

::: {.g-col-12 .g-col-md-6}
::: {.card .source-card}
::: {.card-header .text-center}
### [Tuleva portaal](https://pension.tuleva.ee/)
:::
::: {.card-body .p-3}
**Detailne anal√º√ºs**

- Ei pea olema Tuleva koguja
- V√µrdlus inflatsiooniga
- N√§ed t√§pseid jooksvaid tasusid

[Ava Tuleva portaal ‚Üí](https://pension.tuleva.ee/){.btn .btn-success .btn-sm .mt-2}
:::
:::
:::

:::